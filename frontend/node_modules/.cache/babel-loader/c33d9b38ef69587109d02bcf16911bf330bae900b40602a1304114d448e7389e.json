{"ast":null,"code":"var _s = $RefreshSig$();\n// import { useEffect } from \"react\"\n// import { useDispatch, useSelector } from \"react-redux\"\n// import { setMessages } from \"../redux/messageSlice\"\n\n// const useGetRealTimeMessage= async()=>{\n//     const{socket}=useSelector(store=>store.socket)\n//     const{messages}=useSelector(store=>store.message)\n//     const dispatch=useDispatch()\n//    useEffect(()=>{\n//      socket?.(\"newMessage\",(newMessage)=>{\n//      dispatch(setMessages([...messages,newMessage]))\n//      })\n//    },[socket,setMessages,messages])\n// }\n// export default useGetRealTimeMessage\n\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setMessages } from \"../redux/messageSlice\";\nconst useGetRealTimeMessage = () => {\n  _s();\n  const {\n    socket\n  } = useSelector(store => store.socket);\n  const {\n    messages\n  } = useSelector(store => store.message);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (!socket) return;\n    const handleNewMessage = newMessage => {\n      dispatch(setMessages([...messages, newMessage]));\n    };\n    socket.on(\"newMessage\", handleNewMessage);\n    return () => {\n      socket.off(\"newMessage\", handleNewMessage);\n    };\n  }, [socket, messages, dispatch]);\n  return null;\n};\n_s(useGetRealTimeMessage, \"a6EOI0vNkAW5ibTQn/Gp97gs1Jg=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\nexport default useGetRealTimeMessage;","map":{"version":3,"names":["useEffect","useDispatch","useSelector","setMessages","useGetRealTimeMessage","_s","socket","store","messages","message","dispatch","handleNewMessage","newMessage","on","off"],"sources":["C:/Users/hardik/OneDrive/Desktop/LiveChatApplication/frontend/src/Hooks/useRealTimeMessages.js"],"sourcesContent":["// import { useEffect } from \"react\"\r\n// import { useDispatch, useSelector } from \"react-redux\"\r\n// import { setMessages } from \"../redux/messageSlice\"\r\n\r\n// const useGetRealTimeMessage= async()=>{\r\n//     const{socket}=useSelector(store=>store.socket)\r\n//     const{messages}=useSelector(store=>store.message)\r\n//     const dispatch=useDispatch()\r\n//    useEffect(()=>{\r\n//      socket?.(\"newMessage\",(newMessage)=>{\r\n//      dispatch(setMessages([...messages,newMessage]))\r\n//      })\r\n//    },[socket,setMessages,messages])\r\n// }\r\n// export default useGetRealTimeMessage\r\n\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setMessages } from \"../redux/messageSlice\";\r\n\r\nconst useGetRealTimeMessage = () => {\r\n  const { socket } = useSelector((store) => store.socket);\r\n  const { messages } = useSelector((store) => store.message);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    const handleNewMessage = (newMessage) => {\r\n      dispatch(setMessages([...messages, newMessage]));\r\n    };\r\n\r\n    socket.on(\"newMessage\", handleNewMessage);\r\n\r\n    return () => {\r\n      socket.off(\"newMessage\", handleNewMessage);\r\n    };\r\n  }, [socket, messages, dispatch]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default useGetRealTimeMessage;\r\n"],"mappings":";AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,WAAW,QAAQ,uBAAuB;AAEnD,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAM;IAAEC;EAAO,CAAC,GAAGJ,WAAW,CAAEK,KAAK,IAAKA,KAAK,CAACD,MAAM,CAAC;EACvD,MAAM;IAAEE;EAAS,CAAC,GAAGN,WAAW,CAAEK,KAAK,IAAKA,KAAK,CAACE,OAAO,CAAC;EAC1D,MAAMC,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd,IAAI,CAACM,MAAM,EAAE;IAEb,MAAMK,gBAAgB,GAAIC,UAAU,IAAK;MACvCF,QAAQ,CAACP,WAAW,CAAC,CAAC,GAAGK,QAAQ,EAAEI,UAAU,CAAC,CAAC,CAAC;IAClD,CAAC;IAEDN,MAAM,CAACO,EAAE,CAAC,YAAY,EAAEF,gBAAgB,CAAC;IAEzC,OAAO,MAAM;MACXL,MAAM,CAACQ,GAAG,CAAC,YAAY,EAAEH,gBAAgB,CAAC;IAC5C,CAAC;EACH,CAAC,EAAE,CAACL,MAAM,EAAEE,QAAQ,EAAEE,QAAQ,CAAC,CAAC;EAEhC,OAAO,IAAI;AACb,CAAC;AAACL,EAAA,CApBID,qBAAqB;EAAA,QACNF,WAAW,EACTA,WAAW,EACfD,WAAW;AAAA;AAmB9B,eAAeG,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}